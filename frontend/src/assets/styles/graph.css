/* ===== Effects & Dot Animations (lightened to match OKLCH bars) ===== */

/* Hook classes */
.green-animation  { animation: greenFluctuation 3.6s ease-in-out infinite; }
.yellow-animation { animation: yellowFluctuation 3.6s ease-in-out infinite; }
.red-animation    { animation: redFluctuation 3.6s ease-in-out infinite; }

/* Green: between clean + deep green (lighter) */
@keyframes greenFluctuation {
  /* was rgb(110,195,70) ↗ */
  0%, 100% { background-color: rgb(140, 220, 110); } 
  /* was rgb(0,200,40) ↗ */
  50%      { background-color:  rgb(0, 220, 60); }
}

/* Yellow band: warm → brighter lemony yellow (lighter) */
@keyframes yellowFluctuation {
  /* was rgb(225,175,40) ↗ */
  0%, 100% { background-color: rgb(245, 233, 70); }  
  /* was rgb(255,150,40) ↗ */
  50%      { background-color:  rgb(255, 203, 70); }
}

/* Red/Orange band: deep red ↔ hot orange (lighter) */
@keyframes redFluctuation {
  0%, 100% { background-color: rgb(211, 95, 93); } /* softer red base */
  50%      { background-color: rgb(240, 108, 13); }  /* gentle orange mid */
}

.bar-icon:nth-child(3) {
  filter: saturate(1);
}

/* Radial dot pulses (lightened cores/halos) */
.green-dot-animation  { animation: greenDotPulse 3.2s ease-in-out infinite; }
.yellow-dot-animation { animation: yellowDotPulse 3.2s ease-in-out infinite; }
.red-dot-animation    { animation: redDotPulse 3.2s ease-in-out infinite; }

@keyframes greenDotPulse {
  /* core brighter, halo lighter & slightly more transparent */
  0%, 100% { background: radial-gradient(circle, rgba(0,220,60,0.92) 22%, rgba(140,220,110,0.50) 78%); }
  50%      { background: radial-gradient(circle, rgba(140,220,110,0.96) 22%, rgba(0,220,60,0.42) 78%); }
}
@keyframes yellowDotPulse {
  0%, 100% { background: radial-gradient(circle, rgba(245,200,70,0.92) 22%, rgba(255,180,70,0.50) 78%); }
  50%      { background: radial-gradient(circle, rgba(252,205,78,0.96) 22%, rgba(235,195,85,0.42) 78%); }
}
@keyframes redDotPulse {
  0%, 100% { background: radial-gradient(circle, rgba(255,120,30,0.92) 22%, rgba(230,20,45,0.50) 78%); }
  50%      { background: radial-gradient(circle, rgba(230,20,45,0.96) 22%, rgba(255,120,30,0.42) 78%); }
}

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .green-animation,
  .yellow-animation,
  .red-animation,
  .green-dot-animation,
  .yellow-dot-animation,
  .red-dot-animation {
    animation: none !important;
  }
}

.toggle-button:hover { background-color: #353B41; }
.toggle-icon svg { transform: scale(1); }
.toggle-icon.open svg { transform: rotate(0deg) scale(1); }
.toggle-icon.closed svg { transform: rotate(90deg) scale(1.1); }

.graph-wrapper { backdrop-filter: 6px; opacity: 0; transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out; pointer-events: none; position: relative; transition-delay: 0.2s; z-index: 2; }
.graph-wrapper.visible { backdrop-filter: 0px; opacity: 1; pointer-events: all; display: block; z-index: 2; }
.graph-wrapper.hidden { display: none; }

.bar-icon {filter: brightness(1.4);}
.bar-graph-divider { height: 100%; width: 100%; align-items: flex-end; display: flex; justify-content: center; }
.percentage-indicator { touch-action: none; pointer-events: none; }

.bar-graph-bar:first-child { position: relative; border-left: 1px solid transparent; border-right: 1px solid transparent; }
.bar-graph-bar:first-child::after { content: ""; position: absolute; top: 0; bottom: 0; right: -1px; width: 1px; background: linear-gradient(to bottom, transparent 0%, rgba(50, 50, 50, 0) 6%, rgba(108, 121, 122, 0.2) 15%, rgba(30, 30, 30, 0) 40%, transparent 100%); pointer-events: none; }

.bar-graph-bar:nth-child(3) { position: relative; border-right: 1px solid transparent; border-left: 1px solid transparent; }
.bar-graph-bar:nth-child(3)::before { content: ""; position: absolute; top: 0; bottom: 0; left: -1px; width: 1px; background: linear-gradient(to bottom, transparent 0%, rgba(50, 50, 50, 0) 6%, rgba(108, 121, 122, 0.2) 15%, rgba(30, 30, 30, 0) 40%, transparent 100%); }

.draggable-bar-graph.edge-dark-on {
  background-color: rgb(255, 255, 255);
  backdrop-filter: saturate(120%) blur(2px);
  transition: background 140ms ease;
}
/* No submitted data placeholder */
.empty-center {display: flex; height: 100%;} .empty-card {padding-left: 4px; padding-right: 4px; justify-content: center; display: flex; flex-direction: column; align-items: center;} .empty-card p {text-align: center;}
.empty-card h3 {padding-bottom: 8px;}
.empty-card.is-light { color: #111; }
.empty-card.is-dark  { color: #fff; }
.empty-card--canvas {width: 250%; margin-left: -75%;}
@keyframes floaty {
  0%   { transform: translateY(0);    }
  50%  { transform: translateY(-4px); }
  100% { transform: translateY(0);    }
}
.floaty { animation: floaty 3s ease-in-out infinite; }

/* Mobile */
@media screen and (max-width: 768px) {
  .draggable-container { height: 375px; width: 225px; pointer-events: none; }
  .draggable-bar-graph { width: 180px; height: 100%; pointer-events: auto; user-select: text; cursor: grab; display: flex; flex-direction: column; align-items: center; margin-top: 0.4em; border-radius: 24px; background-color: rgba(255, 255, 255, 0.2); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); border-image: linear-gradient(to right, #cae7f0, #4682b4); border-image-slice: 1; overflow: visible; box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.1), inset -1px -1px 1px rgba(255, 255, 255, 0.2); }
  .bar-graph-divider { width: 120%; }
  .bar-graph-overlay::before { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: linear-gradient(to bottom, #cae7f0, #cedbe5); opacity: 0.45; z-index: -1; border-radius: 60px; }
  .bar-graph-container { width: 204px; display: flex; justify-content: center; align-items: flex-end; height: 85%; box-sizing: border-box; padding: 0 0.8em; }
  .bar-graph-icons { height: 15%; display: flex; justify-content: space-around; width: 88%; margin-top: 6px; padding-bottom: 0.5em; }
  .bar-icon { display: flex; justify-content: center; align-items: center; width: 33%; padding: 0 6%; }
  .bar-graph-bar { display: flex; flex-direction: column; align-items: center; justify-content: space-between; width: 24%; height: 100%; padding: 0 0.4em; }
  .bar-graph-fill { width: 100%; height: 0; transition: height 0.1s ease; animation-duration: 3.6s; animation-timing-function: ease-in-out; animation-iteration-count: infinite; border-radius: 6px; border: 0.2px solid rgb(212, 212, 212); }
  .bar-graph-label { position: relative; top: 24px; color: #333; text-align: center; padding-bottom: 8px; }
  .toggle-button { display: flex; align-items: center; justify-content: center; border: 1px solid rgb(138 138 138 / 78%); width: 36px; height: 36px; background-color: #292929; color: white; border-radius: 6px; border-color: #444; cursor: pointer; position: relative; pointer-events: all; }
  .toggle-icon { display: flex; align-items: center; justify-content: center; line-height: 0; }
  .graph-container { z-index: 4; position: relative; }
  .percentage-section { position: absolute; width: 50px; background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 60%); color: white; border-top: 3px solid rgba(0, 0, 0, 0.427); font-size: 1rem; font-weight: bold; border-radius: 4px; z-index: 10; pointer-events: none; text-align: center; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 4px; transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out; }
  .percentage-indicator { position: absolute; top: calc(-4.4vw + 26px); left: 50%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.82); color: rgb(255, 255, 255); padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold; display: flex; flex-direction: column; align-items: center; white-space: nowrap; }
  .percentage-indicator::before { content: ""; position: absolute; transform: rotate(180deg); top: -4px !important; left: 40%; top: 100%; width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid black; }

  .bar-graph-bar:first-child { position: relative; border-left: 1px solid transparent; border-right: 1px solid transparent; }
  .bar-graph-bar:first-child::after { content: ""; position: absolute; top: 0; bottom: 0; right: -1px; width: 1px; background: linear-gradient(to bottom, transparent 0%, rgba(50, 50, 50, 0) 10%, rgba(108, 121, 122, 0.2) 25%, rgba(30, 30, 30, 0) 60%, transparent 100%); pointer-events: none; }
  .bar-graph-bar:nth-child(3) { position: relative; border-right: 1px solid transparent; border-left: 1px solid transparent; }
  .bar-graph-bar:nth-child(3)::before { content: ""; position: absolute; top: 0; bottom: 0; left: -1px; width: 1px; background: linear-gradient(to bottom, transparent 0%, rgba(50, 50, 50, 0) 10%, rgba(108, 121, 122, 0.2) 25%, rgba(30, 30, 30, 0) 60%, transparent 100%); }
}

/* Tablet */
@media screen and (min-width: 768px) and (max-width: 1024px) {
  .draggable-container { height: 475px; pointer-events: none; }
  .draggable-bar-graph { width: 275px; height: 120%; pointer-events: auto; user-select: text; cursor: grab; display: flex; flex-direction: column; align-items: center; margin-top: 0.6em; border-radius: 24px; background-color: rgba(255, 255, 255, 0.2); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); border-image: linear-gradient(to right, #cae7f0, #4682b4); border-image-slice: 1; overflow: visible; box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.1), inset -1px -1px 1px rgba(255, 255, 255, 0.2); }
  .bar-graph-overlay::before { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: linear-gradient(to bottom, #cae7f0, #cedbe5); opacity: 0.45; z-index: -1; border-radius: 60px; }
  .bar-graph-container { display: flex; justify-content: space-around; align-items: flex-end; height: 100%; box-sizing: border-box; padding: 0 1.2em; width: 302px;}
  .bar-graph-icons { display: flex; justify-content: space-around; width: 85%; margin-top: 8px; padding-bottom: 1em; }
  .bar-icon { display: flex; justify-content: center; align-items: center; width: 33%; padding: 0 7%; }
  .bar-graph-bar { display: flex; flex-direction: column; align-items: center; justify-content: flex-end; width: 26%; height: 100%; padding: 0 0.4em; }
  .bar-graph-fill { width: 100%; height: 0; transition: height 0.1s ease; animation-duration: 3.6s; animation-timing-function: ease-in-out; animation-iteration-count: infinite; border-radius: 6px; border: 0.2px solid rgb(212, 212, 212); }
  .bar-graph-label { position: relative; top: 32px; color: #333; text-align: center; padding-bottom: 8px; }
  .toggle-button { display: flex; align-items: center; justify-content: center; border: 1px solid rgb(138 138 138 / 78%); width: 56px; height: 56px; background-color: #292929; color: white; border-radius: 6px; border-color: #444; cursor: pointer; position: relative; pointer-events: all; }
  .toggle-icon { display: flex; align-items: center; justify-content: center; line-height: 0; }
  .graph-container { z-index: 4; position: relative; }
  .percentage-section { position: absolute; width: 69px; background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 50%); color: white; border-top: 3px solid rgba(0, 0, 0, 0.445); font-size: 1rem; font-weight: bold; border-radius: 4px; z-index: 10; pointer-events: none; text-align: center; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 4px; transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out; }
  .percentage-indicator { position: absolute; top: calc(-1.1vw - 24px); left: -25%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.941); color: rgb(255, 255, 255); padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold; display: flex; flex-direction: column; align-items: center; white-space: nowrap; }
  .percentage-indicator::before { content: ""; position: absolute; bottom: -5px; left: 100%; top: 50%; transform: translateX(-32%) rotate(-90deg); width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid black; }
}

/* Desktop */
@media screen and (min-width: 1025px) {
  .draggable-bar-graph {width: 240px; height: 100%; pointer-events: auto; user-select: text; cursor: grab; display: flex; flex-direction: column; align-items: center; margin-top: 0.4em; border-radius: 24px;   background-color: rgba(255, 255, 255, 0.2); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); border-image: linear-gradient(to right, #cae7f0, #4682b4); border-image-slice: 1; overflow: visible; box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.1), inset -1px -1px 1px rgba(255, 255, 255, 0.2); }
  .draggable-graph-overlay::before { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: linear-gradient(to bottom, #cae7f0, #cedbe5); opacity: 0.45; z-index: -1; border-radius: 60px; }
  .bar-graph-container { display: flex; justify-content: space-around; align-items: flex-end; width: 265px; height: 100%; box-sizing: border-box; padding: 0 1.2em; }
  .bar-graph-icons { padding-top: 0.1em; display: flex; justify-content: space-around; width: 94%; margin-top: 8px; padding-bottom: 1em; }
  .bar-icon { display: flex; justify-content: center; align-items: center; width: 33%; padding: 0 7%; }
  .bar-graph-bar { display: flex; flex-direction: column; align-items: center; justify-content: flex-end; width: 28%; height: 100%; padding: 0 0.4em; }
  .bar-graph-fill { width: 100%; height: 0; transition: height 0.1s ease; animation-duration: 3.6s; animation-timing-function: ease-in-out; animation-iteration-count: infinite; border-radius: 6px; border: 0.2px solid rgb(212, 212, 212); }
  .bar-graph-label { position: relative; top: 24px; color: #333; text-align: center; padding-bottom: 8px; }
  .toggle-button { display: flex; align-items: center; justify-content: center; border: 1px solid rgb(138 138 138 / 78%); width: 40px; height: 40px; background-color: #292929; color: white; border-radius: 6px; border-color: #444; cursor: pointer; position: relative; pointer-events: all; }
  .toggle-icon { display: flex; align-items: center; justify-content: center; line-height: 0; }
  .graph-container { z-index: 4; position: relative; }
  .percentage-section { position: absolute; width: 64px; background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 60%); color: white; border-top: 3px solid rgba(0, 0, 0, 0.445); font-size: 1rem; font-weight: bold; border-radius: 4px; z-index: 10; pointer-events: none; text-align: center; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 4px; transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out; }
  .percentage-indicator { position: absolute; top: calc(-1.1vw - 14px); left: -25%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.941); color: rgb(255, 255, 255); padding: 5px 10px; border-radius: 5px; font-size: 12px; font-weight: bold; display: flex; flex-direction: column; align-items: center; white-space: nowrap; }
  .percentage-indicator::before { content: ""; position: absolute; bottom: -5px; left: 100%; top: 50%; transform: translateX(-32%) rotate(-90deg); width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid black; }
  .bar-graph-divider {width: 106%;}
}
.bar-graph-label {width: 90%;}
@media screen and (min-width: 1025px) and (max-width: 1320px) {
  .draggable-container { height: 440px; width: 250px; pointer-events: none; }
}

@media screen and (min-width: 1320px) {
  .draggable-container { height: 500px; width: 250px; pointer-events: none; }
}
